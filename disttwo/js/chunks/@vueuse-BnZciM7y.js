import{t as Q,m as $,p as I,r as _,q as H,n as J,u as U,e as X,o as Y,g as x,w as F,b as L,s as Z,v as ee}from"./@vue-Ca6oPw20.js";function P(e){return X()?(Y(e),!0):!1}function W(e){return typeof e=="function"?e():U(e)}const te=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ne=e=>typeof e<"u",re=Object.prototype.toString,oe=e=>re.call(e)==="[object Object]",k=()=>{};function ie(e,t){function n(...i){return new Promise((r,a)=>{Promise.resolve(e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})).then(r).catch(a)})}return n}const q=e=>e();function se(e=q){const t=_(!0);function n(){t.value=!1}function i(){t.value=!0}const r=(...a)=>{t.value&&e(...a)};return{isActive:$(t),pause:n,resume:i,eventFilter:r}}function ae(e){return x()}function ue(...e){if(e.length!==1)return Q(...e);const t=e[0];return typeof t=="function"?$(I(()=>({get:t,set:k}))):_(t)}function le(e,t,n={}){const{eventFilter:i=q,...r}=n;return F(e,ie(i,t),r)}function ce(e,t,n={}){const{eventFilter:i,...r}=n,{eventFilter:a,pause:l,resume:g,isActive:S}=se(i);return{stop:le(e,t,{...r,eventFilter:a}),pause:l,resume:g,isActive:S}}function B(e,t=!0,n){ae()?H(e,n):t?e():J(e)}function G(e){var t;const n=W(e);return(t=n==null?void 0:n.$el)!=null?t:n}const T=te?window:void 0;function z(...e){let t,n,i,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,i,r]=e,t=T):[t,n,i,r]=e,!t)return k;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const a=[],l=()=>{a.forEach(p=>p()),a.length=0},g=(p,c,b,s)=>(p.addEventListener(c,b,s),()=>p.removeEventListener(c,b,s)),S=F(()=>[G(t),W(r)],([p,c])=>{if(l(),!p)return;const b=oe(c)?{...c}:c;a.push(...n.flatMap(s=>i.map(y=>g(p,s,y,b))))},{immediate:!0,flush:"post"}),h=()=>{S(),l()};return P(h),h}function fe(){const e=_(!1),t=x();return t&&H(()=>{e.value=!0},t),e}function de(e){const t=fe();return L(()=>(t.value,!!e()))}function pe(e,t={}){const{window:n=T}=t,i=de(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let r;const a=_(!1),l=h=>{a.value=h.matches},g=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",l):r.removeListener(l))},S=ee(()=>{i.value&&(g(),r=n.matchMedia(W(e)),"addEventListener"in r?r.addEventListener("change",l):r.addListener(l),a.value=r.matches)});return P(()=>{S(),g(),r=void 0}),a}function me(e){return JSON.parse(JSON.stringify(e))}const D=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V="__vueuse_ssr_handlers__",ge=he();function he(){return V in D||(D[V]=D[V]||{}),D[V]}function K(e,t){return ge[e]||t}function ye(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const ve={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},R="vueuse-storage";function we(e,t,n,i={}){var r;const{flush:a="pre",deep:l=!0,listenToStorageChanges:g=!0,writeDefaults:S=!0,mergeDefaults:h=!1,shallow:p,window:c=T,eventFilter:b,onError:s=o=>{console.error(o)},initOnMounted:y}=i,f=(p?Z:_)(typeof t=="function"?t():t);if(!n)try{n=K("getDefaultStorage",()=>{var o;return(o=T)==null?void 0:o.localStorage})()}catch(o){s(o)}if(!n)return f;const w=W(t),C=ye(w),O=(r=i.serializer)!=null?r:ve[C],{pause:d,resume:u}=ce(f,()=>E(f.value),{flush:a,deep:l,eventFilter:b});c&&g&&B(()=>{z(c,"storage",A),z(c,R,j),y&&A()}),y||A();function v(o,m){c&&c.dispatchEvent(new CustomEvent(R,{detail:{key:e,oldValue:o,newValue:m,storageArea:n}}))}function E(o){try{const m=n.getItem(e);if(o==null)v(m,null),n.removeItem(e);else{const M=O.write(o);m!==M&&(n.setItem(e,M),v(m,M))}}catch(m){s(m)}}function N(o){const m=o?o.newValue:n.getItem(e);if(m==null)return S&&w!=null&&n.setItem(e,O.write(w)),w;if(!o&&h){const M=O.read(m);return typeof h=="function"?h(M,w):C==="object"&&!Array.isArray(M)?{...w,...M}:M}else return typeof m!="string"?m:O.read(m)}function A(o){if(!(o&&o.storageArea!==n)){if(o&&o.key==null){f.value=w;return}if(!(o&&o.key!==e)){d();try{(o==null?void 0:o.newValue)!==O.write(f.value)&&(f.value=N(o))}catch(m){s(m)}finally{o?J(u):u()}}}}function j(o){A(o.detail)}return f}function Se(e){return pe("(prefers-color-scheme: dark)",e)}function Oe(e={}){const{selector:t="html",attribute:n="class",initialValue:i="auto",window:r=T,storage:a,storageKey:l="vueuse-color-scheme",listenToStorageChanges:g=!0,storageRef:S,emitAuto:h,disableTransition:p=!0}=e,c={auto:"",light:"light",dark:"dark",...e.modes||{}},b=Se({window:r}),s=L(()=>b.value?"dark":"light"),y=S||(l==null?ue(i):we(l,i,a,{window:r,listenToStorageChanges:g})),f=L(()=>y.value==="auto"?s.value:y.value),w=K("updateHTMLAttrs",(u,v,E)=>{const N=typeof u=="string"?r==null?void 0:r.document.querySelector(u):G(u);if(!N)return;let A;if(p&&(A=r.document.createElement("style"),A.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),r.document.head.appendChild(A)),v==="class"){const j=E.split(/\s/g);Object.values(c).flatMap(o=>(o||"").split(/\s/g)).filter(Boolean).forEach(o=>{j.includes(o)?N.classList.add(o):N.classList.remove(o)})}else N.setAttribute(v,E);p&&(r.getComputedStyle(A).opacity,document.head.removeChild(A))});function C(u){var v;w(t,n,(v=c[u])!=null?v:u)}function O(u){e.onChanged?e.onChanged(u,C):C(u)}F(f,O,{flush:"post",immediate:!0}),B(()=>O(f.value));const d=L({get(){return h?y.value:f.value},set(u){y.value=u}});try{return Object.assign(d,{store:y,system:s,state:f})}catch{return d}}function Ae(e,t,n,i={}){var r,a,l;const{clone:g=!1,passive:S=!1,eventName:h,deep:p=!1,defaultValue:c,shouldEmit:b}=i,s=x(),y=n||(s==null?void 0:s.emit)||((r=s==null?void 0:s.$emit)==null?void 0:r.bind(s))||((l=(a=s==null?void 0:s.proxy)==null?void 0:a.$emit)==null?void 0:l.bind(s==null?void 0:s.proxy));let f=h;f=f||`update:${t.toString()}`;const w=d=>g?typeof g=="function"?g(d):me(d):d,C=()=>ne(e[t])?w(e[t]):c,O=d=>{b?b(d)&&y(f,d):y(f,d)};if(S){const d=C(),u=_(d);let v=!1;return F(()=>e[t],E=>{v||(v=!0,u.value=w(E),J(()=>v=!1))}),F(u,E=>{!v&&(E!==e[t]||p)&&O(E)},{deep:p}),u}else return L({get(){return C()},set(d){O(d)}})}export{Ae as a,Oe as u};
