import{i as I}from"../index-c284de7c.js";import"./userShare-0e918012.js";import{_ as A}from"./BaseBreadcrumb.vue_vue_type_style_index_0_lang-5ab39e07.js";import{d as w,r,aS as M,aJ as i,a8 as v,a9 as a,u as d,aR as h,a7 as y,c as o,bl as e,a6 as x,F as b,G as $,j as C,o as S,aQ as H,b2 as m}from"./@vue-7e44e6dd.js";import{u as U,n as E,o as j,G as z,k as F,p as G,y as R,r as J,C as P,D as g}from"./vuetify-0a3604cc.js";import{b as Q}from"./@multiavatar-7283d2b3.js";import{f as k}from"./date-fns-8e15a9c0.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";import"./pinia-98ec2995.js";import"./vue-demi-71ba0ef2.js";import"./vue-router-0e41780a.js";import"./ant-design-vue-6548dd29.js";import"./@babel-8a290753.js";import"./@ant-design-bd925dbd.js";import"./@ctrl-044b369f.js";import"./resize-observer-polyfill-3d106987.js";import"./@emotion-f7664732.js";import"./stylis-5efc5547.js";import"./scroll-into-view-if-needed-6b992d05.js";import"./compute-scroll-into-view-183f845a.js";import"./vue-types-ef06c517.js";import"./dom-align-529d0cdc.js";import"./lodash-es-5af3e9d7.js";import"./dayjs-869360bd.js";import"./async-validator-dee29e8b.js";import"./throttle-debounce-87e7e444.js";import"./axios-6f43ddff.js";/* empty css             */import"./vue3-apexcharts-fb146ff1.js";import"./vue-fdaf27ce.js";import"./apexcharts-a35677a7.js";import"./core-js-40ace11a.js";import"./crypto-js-3b32aad8.js";import"./ChatBc-abd90dc1.js";const K={class:"d-flex mainbox"},O={key:0,class:"left-part"},W={class:"right-part"},X=$(" Menu "),Y=w({setup(L){const{xs:V,lgAndUp:p}=U(),l=r(!1);return(s,n)=>{const t=M("Menu2Icon");return i(),v(b,null,[a("div",K,[d(p)?(i(),v("div",O,[h(s.$slots,"leftpart")])):y("",!0),a("div",W,[o(E,{block:"",onClick:n[0]||(n[0]=u=>l.value=!l.value),variant:"text",class:"d-lg-none d-md-flex d-sm-flex"},{default:e(()=>[o(t,{size:"20",class:"mr-2"}),X]),_:1}),o(j,{class:"d-lg-none d-block"}),h(s.$slots,"rightpart")])]),d(p)?y("",!0):(i(),x(F,{key:0,temporary:"",modelValue:l.value,"onUpdate:modelValue":n[1]||(n[1]=u=>l.value=u),width:"320",top:""},{default:e(()=>[o(z,{class:"pa-0"},{default:e(()=>[h(s.$slots,"mobileLeftContent")]),_:3})]),_:3},8,["modelValue"]))],64)}}});const Z={class:"pa-6"},tt={class:"text-h6 text-truncate"},et={class:"d-flex mt-3 align-center"},ot={class:"text-subtitle-2 opacity-25"},at=["innerHTML"],st={class:"text-h4 text-13"},nt={class:"pa-6"},rt=["innerHTML"],it=w({setup(L){const V=r({title:"系统公告"}),p=r([{text:"系统主页",disabled:!1,href:"/"},{text:"系统公告",disabled:!0,href:"/user/notice"}]),l=Q("root"),s=r([]),n=r(0),t=r(null),u=r(""),N=async()=>{const c=window.VITE_API_BASE_URL;try{const _=await I.post(c+"/app/share/notification");s.value=_.data.data,n.value=s.value.length,n.value>0&&(t.value=s.value[0])}catch(_){console.error("请求错误:",_)}},B=c=>{t.value=c};C(()=>t.value?t.value.notice_content:"");const D=C(()=>u.value?s.value.filter(c=>c.notice_title.toLowerCase().includes(u.value.toLowerCase())):s.value);return S(()=>{N()}),(c,_)=>{const T=M("a-divider");return i(),v(b,null,[o(A,{title:V.value.title,breadcrumbs:p.value},null,8,["title","breadcrumbs"]),o(g,{elevation:"10"},{default:e(()=>[o(Y,null,{leftpart:e(()=>[a("div",Z,[(i(!0),v(b,null,H(d(D),f=>(i(),x(G,{class:"note-sheet pa-5 pb-4 rounded-md cursor-pointer mb-4",key:f.notice_id,onClick:lt=>B(f)},{default:e(()=>[a("h6",tt,m(f.notice_title),1),a("div",et,[a("small",ot,m(t.value?d(k)(new Date(t.value.update_time),"yyyy-MM-dd"):""),1)])]),_:2},1032,["onClick"]))),128))])]),rightpart:e(()=>[o(R,{cols:"12"},{default:e(()=>[t.value?(i(),x(g,{key:0,elevation:"10",class:"mt-5",rounded:"md"},{default:e(()=>[o(J,{size:"40",class:"mt-n7 mx-6"},{default:e(()=>[a("div",{innerHTML:d(l),style:{width:"50px"}},null,8,at)]),_:1}),o(P,{class:"pb-0"},{default:e(()=>[a("h1",st,m(t.value.notice_title),1)]),_:1}),o(T,{orientation:"right"},{default:e(()=>[$(m(t.value?d(k)(new Date(t.value.update_time),"yyyy-MM-dd"):""),1)]),_:1}),a("div",nt,[a("div",{class:"notice-content",innerHTML:t.value.notice_content},null,8,rt)])]),_:1})):y("",!0)]),_:1})]),_:1})]),_:1})],64)}}});const Rt=q(it,[["__scopeId","data-v-5f90fdb7"]]);export{Rt as default};
