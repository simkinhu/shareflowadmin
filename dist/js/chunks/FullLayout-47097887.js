import{aS as _,aJ as n,a6 as u,bl as a,a9 as r,c as o,b2 as b,j as M,aT as De,u as s,r as y,w as P,ae as ee,aC as $,G as p,a8 as h,a7 as g,aB as Y,aQ as D,F as A,o as S,d as L,h as te,B as O,bn as Ie}from"./@vue-7e44e6dd.js";import{u as fe,b as Be,d as Z,R as oe}from"./vue-router-0e41780a.js";import{u as E,a as ve,i as ge,r as ye}from"../index-667cffb9.js";import{V as Ve,b as N,e as j,f as K,g as Me,h as Re,i as B,j as ke,k as q,l as v,m as J,n as H,o as be,p as G,q as we,r as Ce,u as Fe,s as U,t as ae,v as se,w as ne,x as le,y as ie,z as re}from"./vuetify-e7ea846c.js";import{A as Ue,C as He,a as Ne,b as Pe,F as Oe,Q as Ke,U as Ge,G as We,M as $e,L as je,c as qe,T as Qe,d as Ye,e as ue,f as Ze,g as Je,h as ce,S as de}from"./vue-tabler-icons-2df07fd6.js";import{u as X,g as Xe}from"./userShare-38bca1c3.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";import{a5 as et,h as tt}from"./@ant-design-bd925dbd.js";import{m as T,M as ot}from"./ant-design-vue-6548dd29.js";import{_ as at,l as st,R as nt}from"./Password.vue_vue_type_script_lang-0717ec85.js";import"./pinia-98ec2995.js";import"./vue-demi-71ba0ef2.js";import"./dayjs-869360bd.js";import"./@multiavatar-7283d2b3.js";import"./axios-6f43ddff.js";/* empty css             */import"./vue3-apexcharts-fb146ff1.js";import"./vue-fdaf27ce.js";import"./apexcharts-a35677a7.js";import"./core-js-40ace11a.js";import"./@babel-8a290753.js";import"./@ctrl-044b369f.js";import"./resize-observer-polyfill-3d106987.js";import"./@emotion-f7664732.js";import"./stylis-5efc5547.js";import"./scroll-into-view-if-needed-6b992d05.js";import"./compute-scroll-into-view-183f845a.js";import"./vue-types-ef06c517.js";import"./dom-align-529d0cdc.js";import"./lodash-es-5af3e9d7.js";import"./async-validator-dee29e8b.js";import"./throttle-debounce-87e7e444.js";import"./crypto-js-3b32aad8.js";import"./loginChat.vue_vue_type_style_index_0_lang-4eab4381.js";const lt={class:"mini-icon"},it={class:"mini-text"},rt={props:{item:Object},setup(t){const e=t;return(i,l)=>{const d=_("DotsIcon");return n(),u(Ve,{class:"smallCap text-uppercase text-subtitle-2 mt-5 font-weight-bold d-flex align-items-center"},{default:a(()=>[r("span",lt,[o(d,{size:"16","stroke-width":"1.5",class:"iconClass"})]),r("span",it,b(i.$t(e.item.header)),1)]),_:1})}}},V={props:{iconName:String,width:{type:Number,default:24},strokeWidth:{type:Number,default:1.5}},setup(t){const e=t,i={AppsIcon:Ue,CircleIcon:He,CreditCardIcon:Ne,ClipboardIcon:Pe,FileDescriptionIcon:Oe,QrcodeIcon:Ke,UserCircleIcon:Ge,GiftIcon:We},l=M(()=>i[e.iconName]||null);return(d,m)=>(n(),u(De(s(l)),{width:t.width,"stroke-width":t.strokeWidth},null,8,["width","stroke-width"]))}};const ut=["href"],Ee={props:{item:Object,level:Number},setup(t){const e=t;fe();const i=Be(),l=y(!1);return P(()=>i.path,d=>{l.value=d===e.item.url},{immediate:!0}),(d,m)=>{const k=_("router-link");return t.item.status?(n(),u(k,{key:0,to:t.item.url,class:"no-style-link"},{default:a(()=>[o(K,{class:$([{"v-list-item-active":l.value},"mb-1"]),rounded:""},ee({prepend:a(()=>[o(V,{"icon-name":t.item.icon,width:21,"stroke-width":1.5},null,8,["icon-name","stroke-width"])]),default:a(()=>[o(j,null,{default:a(()=>[p(b(t.item.title),1)]),_:1})]),_:2},[t.item.chip?{name:"append",fn:a(()=>[o(N,{color:t.item.chipColor,class:$("sidebarchip hide-menu bg-"+t.item.chipBgColor),size:(t.item.chipIcon,"small"),variant:t.item.chipVariant,"prepend-icon":t.item.chipIcon},{default:a(()=>[p(b(t.item.chip),1)]),_:1},8,["color","class","size","variant","prepend-icon"])])}:void 0]),1032,["class"])]),_:1},8,["to"])):(n(),h("a",{key:1,href:t.item.url,target:"_blank",class:"no-style-link"},[o(K,{rounded:"",class:"mb-1"},ee({prepend:a(()=>[o(V,{"icon-name":t.item.icon,width:21,"stroke-width":1.5},null,8,["icon-name","stroke-width"])]),default:a(()=>[o(j,null,{default:a(()=>[p(b(t.item.title),1)]),_:1})]),_:2},[t.item.chip?{name:"append",fn:a(()=>[o(N,{color:t.item.chipColor,class:$("sidebarchip hide-menu bg-"+t.item.chipBgColor),size:(t.item.chipIcon,"small"),variant:t.item.chipVariant,"prepend-icon":t.item.chipIcon},{default:a(()=>[p(b(t.item.chip),1)]),_:1},8,["color","class","size","variant","prepend-icon"])])}:void 0]),1024)],8,ut))}}},ct={props:{item:Object,level:Number},setup(t){return(e,i)=>{const l=_("NavCollapse",!0);return n(),u(Re,{"no-action":""},{activator:a(({props:d})=>[o(K,Y(d,{value:t.item.title,rounded:"",class:"mb-1"}),{prepend:a(()=>[o(V,{item:t.item.icon,level:t.level},null,8,["item","level"])]),default:a(()=>[o(j,{class:"mr-auto"},{default:a(()=>[p(b(e.$t(t.item.title)),1)]),_:1}),t.item.subCaption?(n(),u(Me,{key:0,class:"text-caption mt-n1 hide-menu"},{default:a(()=>[p(b(t.item.subCaption),1)]),_:1})):g("",!0)]),_:2},1040,["value"])]),default:a(()=>[t.item.children?(n(!0),h(A,{key:0},D(t.item.children,(d,m)=>(n(),h(A,{key:m},[d.children?(n(),u(l,{key:0,item:d,level:t.level+1},null,8,["item","level"])):(n(),u(Ee,{key:1,item:d,level:t.level+1},null,8,["item","level"]))],64))),128)):g("",!0)]),_:1})}}};const z="/list/assets/dark-logo-b5f0d1d5.svg",dt={class:"logo"},mt=["src"],_t={setup(t){y("rgb(var(--v-theme-primary))"),y("rgb(var(--v-theme-secondary))");const e=E(),i=y(z);return S(async()=>{await e.loadSettingsFromAPI(),i.value=String(e.getSetting("fileListDark")=="null"?z:e.getSetting("fileListDark"))}),(l,d)=>(n(),h("div",dt,[o(s(Z),{to:"/"},{default:a(()=>[r("img",{src:i.value,alt:"home",width:"180"},null,8,mt)]),_:1})]))}},pt={setup(){const t=y("rgb(var(--v-theme-primary))"),e=y("rgb(var(--v-theme-secondary))"),i=E(),l=y(z);return S(async()=>{await i.loadSettingsFromAPI(),l.value=String(i.getSetting("fileListDark")=="null"?z:i.getSetting("fileListDark"))}),{logourl:l,primary:t,secondary:e,RtlDarklogo:z}}},ht={class:"logo"},ft=["src"];function vt(t,e,i,l,d,m){const k=_("RouterLink");return n(),h("div",ht,[o(k,{to:"/"},{default:a(()=>[r("img",{src:l.logourl,alt:"home",width:"180"},null,8,ft)]),_:1})])}const gt=R(pt,[["render",vt]]),Te={setup(t){const e=E(),i=M(()=>e.actTheme==="DARK_BLUE_THEME"||e.actTheme==="DARK_AQUA_THEME"||e.actTheme==="DARK_ORANGE_THEME"||e.actTheme==="DARK_PURPLE_THEME"||e.actTheme==="DARK_GREEN_THEME"||e.actTheme==="DARK_CYAN_THEME");return(l,d)=>s(i)?(n(),u(_t,{key:0})):(n(),u(gt,{key:1}))}},yt={class:"logo"},kt=["src"],bt=L({setup(t){const e=E(),i=y(z);return S(async()=>{await e.loadSettingsFromAPI(),i.value=String(e.getSetting("fileListDark")=="null"?z:e.getSetting("fileListDark"))}),(l,d)=>(n(),h("div",yt,[o(s(Z),{to:"/"},{default:a(()=>[r("img",{src:i.value,alt:"home",width:"180"},null,8,kt)]),_:1})]))}}),wt={class:"logo"},Ct=["src"],$t=L({setup(t){const e=E(),i=M(()=>{const l=e.getSetting("fileListDark");return l==="null"?z:String(l)});return(l,d)=>(n(),h("div",wt,[o(s(Z),{to:"/"},{default:a(()=>[r("img",{src:s(i),alt:"home",width:"180"},null,8,Ct)]),_:1})]))}}),Ae={setup(t){const e=E(),i=M(()=>e.actTheme==="DARK_BLUE_THEME"||e.actTheme==="DARK_AQUA_THEME"||e.actTheme==="DARK_ORANGE_THEME"||e.actTheme==="DARK_PURPLE_THEME"||e.actTheme==="DARK_GREEN_THEME"||e.actTheme==="DARK_CYAN_THEME");return(l,d)=>s(i)?(n(),u(bt,{key:0})):(n(),u($t,{key:1}))}},Et={class:"pa-5"},Tt={class:"pa-5"},Q=L({props:{item:Object,level:Number},setup(t){const e=E(),i=ve(),l=M(()=>i.sidebarMenu);return S(()=>{i.fetchNavItems()}),S(()=>{i.fetchNavItems()}),(d,m)=>{const k=_("perfect-scrollbar");return n(),u(q,{left:"",modelValue:s(e).Sidebar_drawer,"onUpdate:modelValue":m[0]||(m[0]=f=>s(e).Sidebar_drawer=f),elevation:"0","rail-width":"75","mobile-breakpoint":"960",app:"",class:"leftSidebar",rail:s(e).mini_sidebar,"expand-on-hover":"",width:"270"},{default:a(()=>[s(e).setRTLLayout?(n(),u(B,{key:0,rtl:""},{default:a(()=>[r("div",Et,[o(Ae)])]),_:1})):(n(),u(B,{key:1},{default:a(()=>[r("div",Tt,[o(Te)])]),_:1})),o(k,{class:"scrollnavbar"},{default:a(()=>[o(ke,{class:"pa-6"},{default:a(()=>[(n(!0),h(A,null,D(s(l),(f,c)=>(n(),h(A,{key:c},[f.header?(n(),u(rt,{key:0,item:f},null,8,["item"])):g("",!0),f.children?(n(),u(ct,{key:1,class:"leftPadding",item:f,level:0},null,8,["item"])):(n(),u(Ee,{key:2,item:f,class:"leftPadding"},null,8,["item"]))],64))),128))]),_:1})]),_:1})]),_:1},8,["modelValue","rail"])}}}),At=L({components:{MessageOutlined:et},created(){this.fetchData()},data(){return{noticelist:[],noticeCount:0,menuOpen:!1}},methods:{fetchData(){const t=window.VITE_API_BASE_URL;ge.post(t+"/app/share/notification").then(e=>{this.noticelist=e.data.data,this.noticeCount=this.noticelist.length}).catch(e=>{console.error("请求错误:",e)})},stripHtmlAndTruncate(t,e){const i=document.createElement("div");i.innerHTML=t;const l=i.textContent||i.innerText||"";return l.length>e?l.slice(0,e)+"...":l},viewAllNotices(){ye.push("/user/notice"),this.menuOpen=!1}}}),Lt={class:"px-8 pb-4 pt-6"},xt={class:"d-flex align-center justify-space-between"},St=r("h6",{class:"text-h5"},"系统公告",-1),zt={class:"text-subtitle-1 font-weight-bold mb-1"},Dt={class:"text-subtitle-1 font-weight-regular textSecondary"},It={class:"py-4 px-6 text-center"},Bt=p("查看所有的公告");function Vt(t,e,i,l,d,m){const k=_("MessageOutlined"),f=_("perfect-scrollbar");return n(),u(be,{modelValue:t.menuOpen,"onUpdate:modelValue":e[0]||(e[0]=c=>t.menuOpen=c),"close-on-content-click":!1},{activator:a(({props:c})=>[o(v,Y({icon:"",variant:"text",color:"primary",class:"custom-hover-primary"},c),{default:a(()=>[o(k,{style:{"font-size":"20px"}})]),_:2},1040)]),default:a(()=>[o(H,{rounded:"md",width:"360",elevation:"10"},{default:a(()=>[r("div",Lt,[r("div",xt,[St,o(N,{color:"primary",variant:"flat",size:"small",class:"text-white"},{default:a(()=>[p(b(t.noticeCount)+"条消息",1)]),_:1})])]),o(f,{style:{height:"400px"}},{default:a(()=>[o(ke,{class:"py-0 theme-list",lines:"two"},{default:a(()=>[(n(!0),h(A,null,D(t.noticelist,c=>(n(),u(K,{key:c.notice_id,"active-color":"primary",class:"py-4 px-8",onClick:t.viewAllNotices},{default:a(()=>[r("div",null,[r("h6",zt,b(c.notice_title),1)]),r("p",Dt,b(t.stripHtmlAndTruncate(c.notice_content,20)),1)]),_:2},1032,["onClick"]))),128)),(n(!0),h(A,null,D(t.noticelist,c=>(n(),u(J,{key:c.id+"-divider"}))),128))]),_:1})]),_:1}),r("div",It,[o(v,{color:"primary",variant:"outlined",block:"",onClick:t.viewAllNotices},{default:a(()=>[Bt]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["modelValue"])}const Le=R(At,[["render",Vt]]),Mt="/list/assets/unlimited-bg-34c15610.png",Rt=["innerHTML"],Ft={class:"px-8 pt-6"},Ut=r("h6",{class:"text-h5 font-weight-medium"},"用户信息：",-1),Ht={class:"d-flex align-center mt-4 pb-6"},Nt=["innerHTML"],Pt={class:"ml-3 pb-3"},Ot={key:0,class:"text-h6 mb-n1"},Kt={class:"d-flex align-center mt-3"},Gt={key:0,class:"text-subtitle-1 font-weight-regular textSecondary"},Wt={key:1,class:"text-subtitle-1 font-weight-regular textSecondary"},jt={class:"px-8 py-3"},qt={class:"bg-lightprimary rounded-md pa-5 overflow-hidden position-relative"},Qt={key:0,class:"text-h6"},Yt={key:1,class:"text-h6"},Zt={key:2,class:"text-h6"},Jt=p("续费Plus"),Xt=p("开通Plus"),eo=r("img",{src:Mt,alt:"bg-img",class:"right-pos-img"},null,-1),to={class:"pt-4 pb-6 px-8 text-center"},oo=p("安全退出"),ao=p("立即登录"),xe=L({setup(t){const e=X(),i=y(!1);function l(){if(e.userToken==null)return T.error("您还没有登录哦"),!1;i.value=!1,ot.confirm({centered:!0,title:"提示？",icon:te(tt),content:te("div",{style:"color:red;"},"你确定退出登录吗？"),onOk(){e.logout(),T.success("已退出登录，如需再次使用请重新登录")},onCancel(){T.warning("您取消了退出！")}})}function d(){e.loginModal=!0,i.value=!1}function m(){ye.push("/user/plus"),i.value=!1}return S(()=>{e.fetchUserData()}),(k,f)=>(n(),u(be,{modelValue:i.value,"onUpdate:modelValue":f[0]||(f[0]=c=>i.value=c),"close-on-content-click":!1},{activator:a(({props:c})=>[o(v,Y({class:"custom-hover-primary",variant:"text"},c,{icon:""}),{default:a(()=>[o(G,{size:"35"},{default:a(()=>[r("div",{innerHTML:s(e).userAvatar,style:{width:"35px",height:"35px"}},null,8,Rt)]),_:1})]),_:2},1040)]),default:a(()=>[o(H,{rounded:"md",width:"360",elevation:"10"},{default:a(()=>[r("div",Ft,[Ut,r("div",Ht,[o(G,{size:"80"},{default:a(()=>[r("div",{class:"avaimg",innerHTML:s(e).userAvatar},null,8,Nt)]),_:1}),r("div",Pt,[s(e).useremail?(n(),h("h6",Ot,b(s(e).useremail),1)):g("",!0),r("div",Kt,[s(e).useremail?(n(),h("span",Gt," 到期时间："+b(s(e).expireTime),1)):(n(),h("span",Wt," 欢迎回来，即时畅享4.0对话 "))])])]),o(J)]),r("div",jt,[r("div",qt,[s(e).isLogin?g("",!0):(n(),h("h5",Qt," 立即登录，即刻畅享 ")),s(e).isPlus&&s(e).isLogin?(n(),h("h5",Yt," 您当前属于Plus会员 ")):g("",!0),!s(e).isPlus&&s(e).isLogin?(n(),h("h5",Zt," 您当前属于普通会员 ")):g("",!0),s(e).isPlus&&s(e).isLogin?(n(),u(v,{key:3,variant:"flat",color:"primary",class:"mt-3",onClick:m},{default:a(()=>[Jt]),_:1})):g("",!0),!s(e).isPlus&&s(e).isLogin?(n(),u(v,{key:4,variant:"flat",color:"primary",class:"mt-3",onClick:m},{default:a(()=>[Xt]),_:1})):g("",!0),eo])]),r("div",to,[s(e).isLogin?(n(),u(v,{key:0,color:"primary",block:"",onClick:l},{default:a(()=>[oo]),_:1})):(n(),u(v,{key:1,color:"primary",block:"",onClick:d},{default:a(()=>[ao]),_:1}))])]),_:1})]),_:1},8,["modelValue"]))}});const Se={},so={class:"hidden-md-and-down"},no={class:"ml-3 mr-sm-0 mr-3"},me=L({setup(t){const e=E();y(!1),y(!1),y(!1);const i=y((e.setHorizontalLayout,0));return P(i,l=>{i.value=l}),(l,d)=>(n(),u(Ce,{elevation:"10",priority:i.value,height:"70",class:"horizontal-header"},{default:a(()=>[r("div",{class:$(s(e).boxed?"maxWidth v-toolbar__content":"v-toolbar__content px-6")},[o(v,{class:"hidden-lg-and-up ms-3",icon:"",rounded:"sm",variant:"flat",onClick:O(s(e).SET_SIDEBAR_DRAWER,["stop"]),size:"small"},{default:a(()=>[o(s($e),{size:"20","stroke-width":"1.5"})]),_:1},8,["onClick"]),r("div",so,[o(Se)]),o(we),o(Le),r("div",no,[o(xe)])],2)]),_:1},8,["priority"]))}}),lo={class:"hidden-md-and-down"},io={class:"hidden-md-and-down"},ro={class:"hidden-md-and-down"},uo={class:"ml-3 mr-sm-0 mr-3"},_e=L({setup(t){const e=E();y(!1),y(!1),y(!1);const i=y((e.setHorizontalLayout,0));return P(i,l=>{i.value=l}),(l,d)=>(n(),u(Ce,{elevation:"10",priority:i.value,height:"70",class:"horizontal-header"},{default:a(()=>[r("div",{class:$(s(e).boxed?"maxWidth v-toolbar__content":"v-toolbar__content px-6")},[s(e).setRTLLayout?(n(),u(B,{key:0,rtl:""},{default:a(()=>[r("div",lo,[o(Ae)])]),_:1})):(n(),u(B,{key:1},{default:a(()=>[r("div",io,[o(Te)])]),_:1})),o(v,{class:"hidden-lg-and-up ms-3",icon:"",rounded:"sm",variant:"flat",onClick:O(s(e).SET_SIDEBAR_DRAWER,["stop"]),size:"small"},{default:a(()=>[o(s($e),{size:"20","stroke-width":"1.5"})]),_:1},8,["onClick"]),r("div",ro,[o(Se)]),o(we),o(Le),r("div",uo,[o(xe)])],2)]),_:1},8,["priority"]))}});const co=["href"],mo={class:"navIcon"},_o={key:0,class:"text-caption mt-n1 hide-menu"},po={class:"navIcon"},ho={key:0,class:"text-caption mt-n1 hide-menu"},fo={key:1},vo={props:{item:{type:Object,required:!0},level:{type:Number,default:1}},setup(t){const e=fe();function i(l){e.push(l).catch(d=>{})}return(l,d)=>{const m=_("router-link");return t.item&&t.item.url?(n(),h(A,{key:0},[t.item.status?(n(),u(m,{key:1,to:t.item.url,class:"navItemLink rounded-md",onClick:d[0]||(d[0]=k=>i(t.item.url))},{default:a(()=>[r("i",po,[o(V,{"icon-name":t.item.icon,width:21,"stroke-width":1.5},null,8,["icon-name","stroke-width"])]),r("span",null,b(t.item.title),1),t.item.subCaption?(n(),h("small",ho,b(t.item.subCaption),1)):g("",!0),t.item.chip?(n(),u(N,{key:1,color:t.item.chipColor,class:$("sidebarchip hide-menu bg-"+t.item.chipBgColor),size:(t.item.chipIcon,"small"),variant:t.item.chipVariant,"prepend-icon":t.item.chipIcon},{default:a(()=>[p(b(t.item.chip),1)]),_:1},8,["color","class","size","variant","prepend-icon"])):g("",!0)]),_:1},8,["to"])):(n(),h("a",{key:0,href:t.item.url,target:"_blank",class:"navItemLink rounded-md"},[r("i",mo,[o(V,{"icon-name":t.item.icon,width:21,"stroke-width":1.5},null,8,["icon-name","stroke-width"])]),r("span",null,b(t.item.title),1),t.item.subCaption?(n(),h("small",_o,b(t.item.subCaption),1)):g("",!0),t.item.chip?(n(),u(N,{key:1,color:t.item.chipColor,class:"sidebarchip hide-menu ml-auto",size:(t.item.chipIcon,"small"),variant:t.item.chipVariant,"prepend-icon":t.item.chipIcon},{default:a(()=>[p(b(t.item.chip),1)]),_:1},8,["color","size","variant","prepend-icon"])):g("",!0)],8,co))],64)):(n(),h("p",fo,"Error: Invalid item data"))}}},ze=R(vo,[["__scopeId","data-v-4bcba158"]]),go={class:"navItemLink rounded-md cursor-pointer"},yo={class:"navIcon"},ko={class:"mr-auto"},bo={key:0,class:"text-caption mt-n1 hide-menu"},wo={class:"ddIcon ml-2 d-flex align-center"},Co={props:{item:Object,level:Number},setup(t){return(e,i)=>{const l=_("ChevronDownIcon"),d=_("Index",!0);return n(),h(A,null,[r("a",go,[r("i",yo,[o(V,{item:t.item.icon,level:t.level},null,8,["item","level"])]),r("span",ko,b(t.item.title),1),t.item.subCaption?(n(),h("small",bo,b(t.item.subCaption),1)):g("",!0),r("i",wo,[o(l,{size:"15"})])]),r("ul",{class:$(`ddMenu ddLevel-${t.level+1}`)},[t.item.children?(n(!0),h(A,{key:0},D(t.item.children,(m,k)=>(n(),h("li",{key:k,class:"navItem"},[m.children?(n(),u(d,{key:0,item:m,level:t.level+1},null,8,["item","level"])):(n(),u(ze,{key:1,item:m,level:t.level+1},null,8,["item","level"]))]))),128)):g("",!0)],2)],64)}}},$o={key:0,class:"horizontalMenu border-bottom"},Eo={class:"gap-1 horizontal-navbar mx-0"},To={key:1,class:"mobile-menu"},pe=L({setup(t){const e=E(),{mdAndUp:i}=Fe(),l=ve(),d=M(()=>l.sidebarMenu);return S(()=>{l.fetchNavItems()}),S(()=>{l.fetchNavItems()}),(m,k)=>s(i)?(n(),h("div",$o,[r("div",{class:$(s(e).boxed?"maxWidth":"px-6")},[r("ul",Eo,[(n(!0),h(A,null,D(s(d),(f,c)=>(n(),h("li",{key:c,class:"navItem"},[f.children?(n(),u(Co,{key:0,item:f,level:0},null,8,["item"])):(n(),u(ze,{key:1,item:f,level:0},null,8,["item"]))]))),128))])],2)])):(n(),h("div",To,[o(Q)]))}}),Ao=p("立即找回"),Lo=p("OR"),xo=p("记得密码");function So(t,e,i,l,d,m){const k=_("a-alert"),f=_("a-input"),c=_("a-col"),x=_("a-row"),C=_("a-input-group"),F=_("a-input-password"),I=_("a-divider"),W=_("a-modal");return n(),u(W,{style:{top:"25%"},"z-index":"1009",footer:null,open:t.userStore.passModel,"onUpdate:open":e[3]||(e[3]=w=>t.userStore.passModel=w),width:"350px",title:"找回密码"},{default:a(()=>[o(k,{class:"mt-3",message:"使用您之前注册时使用的邮箱进行找回密码",type:"success"}),o(f,{class:"mt-5",value:t.useremail,"onUpdate:value":e[0]||(e[0]=w=>t.useremail=w),placeholder:"请输入您的电子邮箱"},null,8,["value"]),o(C,{class:"mt-5"},{default:a(()=>[o(x,{gutter:24},{default:a(()=>[o(c,{span:12},{default:a(()=>[o(f,{value:t.emailcode,"onUpdate:value":e[1]||(e[1]=w=>t.emailcode=w),placeholder:"请输入邮箱验证码"},null,8,["value"])]),_:1}),o(c,{span:12},{default:a(()=>[o(v,{block:"true",size:"small",outlined:"","x-small":"",class:"loginbutton",onClick:t.emailget},{default:a(()=>[p(b(t.emailmsg),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),o(F,{class:"mt-5",value:t.userpassword,"onUpdate:value":e[2]||(e[2]=w=>t.userpassword=w),placeholder:"请输入您的新密码",onKeyup:Ie(t.resetPassword,["enter"])},null,8,["value","onKeyup"]),o(v,{class:"mt-5 loginbutton",onClick:t.forgetbutton},{default:a(()=>[Ao]),_:1},8,["onClick"]),o(I,null,{default:a(()=>[Lo]),_:1}),o(v,{class:"mt-5 loginbutton",onClick:t.loginModel},{default:a(()=>[xo]),_:1},8,["onClick"])]),_:1},8,["open"])}const zo=R(at,[["render",So]]),Do=L({setup(){const t=X(),e=E(),i=y(t.invcode),l=y(""),d=y(!1),m=y(0),k=y(!1),f=y(0);P(()=>t.invcode,C=>{i.value=C,l.value=window.location.origin+"/list/#/?share="+C});const c=()=>{navigator.clipboard.writeText(l.value).then(()=>{T.success("推广链接已复制到剪贴板")}).catch(C=>{T.error("复制失败，请手动复制")})};return S(async()=>{await e.loadSettingsFromAPI(),d.value=e.getSetting("invitation_day_enable")===!0,k.value=e.getSetting("invitation_prop_enable")===!0,m.value=Number(e.getSetting("invitation_day_days")),f.value=Number(e.getSetting("invitation_prop_percent"))}),{userStore:t,invcode:i,fullUrl:l,copyToClipboard:c,getAlertMessage:()=>d.value&&k.value?`您的邀请码为 ${i.value}，邀请好友注册后您的好友成功购买套餐，您将获得 ${m.value} 天的会员时间续期，以及该套餐的 ${f.value}% 的会员时间续期。`:d.value?`您的邀请码为 ${i.value}，邀请好友注册后您的好友成功购买套餐，您将获得 ${m.value} 天的会员时间续期。`:k.value?`您的邀请码为 ${i.value}，邀请好友注册后您的好友成功购买套餐，您将获得该套餐的 ${f.value}% 的会员时间续期。`:`您的邀请码为 ${i.value}，邀请好友注册后您的好友成功购买套餐，您将获得奖励。`}},data(){return{password:""}},async mounted(){this.fullUrl=window.location.origin+"/list/#/?share="+this.invcode},methods:{registModel(){this.userStore.registModel=!0,this.userStore.loginModal=!1},passModel(){this.userStore.passModel=!0,this.userStore.loginModal=!1}}}),Io=r("p",{class:"text-h3"},"邀请好友",-1),Bo=p("复制推广连接");function Vo(t,e,i,l,d,m){const k=_("a-alert"),f=_("a-qrcode"),c=_("a-input"),x=_("a-button"),C=_("a-input-group"),F=_("a-modal");return n(),u(F,{style:{top:"30%"},"z-index":"1009",footer:null,open:t.userStore.invcodeModel,"onUpdate:open":e[1]||(e[1]=I=>t.userStore.invcodeModel=I),width:"400px"},{default:a(()=>[Io,o(k,{class:"mt-3 mb-5",message:t.getAlertMessage(),type:"success"},null,8,["message"]),o(f,{value:t.fullUrl,color:"#1aad19"},null,8,["value"]),o(C,{class:"mt-5 pb-5",compact:""},{default:a(()=>[o(c,{disabled:"true",value:t.fullUrl,"onUpdate:value":e[0]||(e[0]=I=>t.fullUrl=I),style:{width:"calc(100% - 115px)"}},null,8,["value"]),o(x,{style:{"background-color":"rgb(var(--v-theme-primary)) !important",color:"white"},onClick:t.copyToClipboard},{default:a(()=>[Bo]),_:1},8,["onClick"])]),_:1})]),_:1},8,["open"])}const Mo=R(Do,[["render",Vo]]),Ro=L({setup(){const t=X(),e=E(),i=y(0);return S(async()=>{await e.loadSettingsFromAPI(),i.value=Number(e.getSetting("new_user_days"))}),{userStore:t,newuserdays:i}},data(){return{usertoken:null,useremail:null,emailcode:null,userpassword:null,useremailmsg:"获取验证码",countdown:null,countdownTime:30}},methods:{validateInputs(){const t=/^\d{6}$/,e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(this.emailcode)?e.test(this.useremail)?this.userpassword.length<8?(T.warning("用户密码不得小于8位字符，请重新输入"),!1):!0:(T.warning("请输入有效的电子邮箱"),!1):(T.warning("验证码必须是6位纯数字"),!1)},usertokenget(){if(this.usertoken===null){T.warning("请输入您的UserToken");return}this.usetokenuppost(1)},useremailget(){if(this.countdown===null){if(this.useremail===null){T.warning("请输入您的电子邮箱");return}this.emailcode=null,this.startCountdown(),this.usetokenuppost(0)}},startCountdown(){this.countdownTime=30,this.useremailmsg=`${this.countdownTime}秒后重新获取`,this.countdown=setInterval(()=>{this.countdownTime--,this.countdownTime>0?this.useremailmsg=`${this.countdownTime}秒后重新获取`:(this.useremailmsg="获取验证码",clearInterval(this.countdown),this.countdown=null)},1e3)},registclick(){this.validateInputs()&&this.usetokenuppost(0)},usetokenuppost(t){const e=window.VITE_API_BASE_URL,i=Xe(this.useremail);ge.post(e+"/app/user/tokenupdate"+i,{type:t,usertoken:this.usertoken,useremail:this.useremail,emailcode:this.emailcode,password:this.userpassword}).then(l=>{if(l.data.data.code===200){T.success(l.data.data.msg);return}if(l.data.data.code===202){setTimeout(()=>{T.warning(l.data.data.msg),this.userStore.userTokenModel=!1,this.userStore.loginModal=!0},1e3);return}if(l.data.data.code===400){T.warning(l.data.data.msg),this.countdown!==null&&(clearInterval(this.countdown),this.countdown=null,this.useremailmsg="获取验证码");return}}).catch(l=>{console.error("请求错误:",l)})},loginModel(){this.userStore.userTokenModel=!1,this.userStore.loginModal=!0}}});const Fo=p("验证"),Uo=p("立即注册"),Ho=p("OR"),No=p("已有账户");function Po(t,e,i,l,d,m){const k=_("a-alert"),f=_("a-input"),c=_("a-col"),x=_("a-row"),C=_("a-input-group"),F=_("a-input-password"),I=_("a-divider"),W=_("a-modal");return n(),u(W,{style:{top:"22%"},"z-index":"1009",footer:null,open:t.userStore.userTokenModel,"onUpdate:open":e[4]||(e[4]=w=>t.userStore.userTokenModel=w),width:"350px",title:"账户升级"},{default:a(()=>[t.newuserdays>=0?(n(),u(k,{key:0,class:"mt-3",message:"平台已升级至账户密码体系，您的会员权益不受影响，安全升级，服务更优！",type:"warning"})):g("",!0),o(C,{class:"mt-5"},{default:a(()=>[o(x,{gutter:24},{default:a(()=>[o(c,{span:16},{default:a(()=>[o(f,{value:t.usertoken,"onUpdate:value":e[0]||(e[0]=w=>t.usertoken=w),placeholder:"请输入您的UserToken"},null,8,["value"])]),_:1}),o(c,{span:8},{default:a(()=>[o(v,{block:"true",size:"small",class:"loginbutton qrcodebutton",onClick:t.usertokenget},{default:a(()=>[Fo]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),o(f,{class:"mt-5",value:t.useremail,"onUpdate:value":e[1]||(e[1]=w=>t.useremail=w),placeholder:"请输入您的电子邮箱"},null,8,["value"]),o(C,{class:"mt-5"},{default:a(()=>[o(x,{gutter:24},{default:a(()=>[o(c,{span:12},{default:a(()=>[o(f,{value:t.emailcode,"onUpdate:value":e[2]||(e[2]=w=>t.emailcode=w),placeholder:"请输入邮箱验证码"},null,8,["value"])]),_:1}),o(c,{span:12},{default:a(()=>[o(v,{block:"true",size:"small",class:"loginbutton qrcodebutton",onClick:t.useremailget},{default:a(()=>[p(b(t.useremailmsg),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),o(F,{class:"mt-5",value:t.userpassword,"onUpdate:value":e[3]||(e[3]=w=>t.userpassword=w),placeholder:"请输入您的账户密码"},null,8,["value"]),o(v,{class:"mt-5 loginbutton",onClick:t.registclick},{default:a(()=>[Uo]),_:1},8,["onClick"]),o(I,null,{default:a(()=>[Ho]),_:1}),o(v,{class:"mt-5 loginbutton",onClick:t.loginModel},{default:a(()=>[No]),_:1},8,["onClick"])]),_:1},8,["open"])}const Oo=R(Ro,[["render",Po]]),Ko=r("div",{class:"pa-6"},[r("h5",{class:"text-h5"},"主题设置")],-1),Go={class:"pa-6"},Wo=r("h6",{class:"text-h6 mb-2"},"菜单布局",-1),jo=p(" 左侧 "),qo=p(" 顶部 "),Qo=r("h6",{class:"text-h6 mt-8 mb-5"},"主题方向",-1),Yo=p(" 正向 "),Zo=p(" 反向 "),Jo=r("h6",{class:"text-h6 mt-8 mb-5"},"主题颜色（浅色）",-1),Xo=r("h6",{class:"text-h6 mt-11 mb-5"},"主题颜色（深色）",-1),ea=r("h6",{class:"text-h6 mt-11 mb-2"},"宽窄选择",-1),ta=p(" 窄屏 "),oa=p(" 宽屏 "),aa=r("h6",{class:"text-h6 mt-11 mb-2"},"边栏类型",-1),sa=p(" 展开 "),na=p(" 折叠 "),la=r("h6",{class:"text-h6 mt-11 mb-2"},"卡片轮廓",-1),ia=p(" 阴影 "),ra=p(" 边距 "),he=L({setup(t){const e=E(),i=y([{name:"BLUE_THEME",bg:"themeBlue"},{name:"AQUA_THEME",bg:"themeAqua"},{name:"PURPLE_THEME",bg:"themePurple"},{name:"GREEN_THEME",bg:"themeGreen"},{name:"CYAN_THEME",bg:"themeCyan"},{name:"ORANGE_THEME",bg:"themeOrange"}]),l=y([{name:"DARK_BLUE_THEME",bg:"themeDarkBlue"},{name:"DARK_AQUA_THEME",bg:"themeDarkAqua"},{name:"DARK_PURPLE_THEME",bg:"themeDarkPurple"},{name:"DARK_GREEN_THEME",bg:"themeDarkGreen"},{name:"DARK_CYAN_THEME",bg:"themeDarkCyan"},{name:"DARK_ORANGE_THEME",bg:"themeDarkOrange"}]);return S(async()=>{e.loadSettingsFromLocalStorage(),(localStorage.getItem("setHorizontalLayout")===null||localStorage.getItem("customizerRTLLayout")===null||localStorage.getItem("customizerTheme")===null||localStorage.getItem("customizerHorizontalLayout")===null||localStorage.getItem("customizerMiniSidebar")===null||localStorage.getItem("customizerBoxed")===null||localStorage.getItem("customizerBorderCard")===null)&&await e.loadSettingsFromAPI()}),P(()=>[e.actTheme,e.setRTLLayout,e.setHorizontalLayout,e.mini_sidebar,e.boxed,e.setBorderCard],(d,m)=>{e.saveSettingsToLocalStorage()},{deep:!0}),(d,m)=>{const k=_("LayoutSidebarIcon"),f=_("perfect-scrollbar");return n(),h(A,null,[Ko,o(J),o(f,{style:{height:"calc(100vh - 90px)"}},{default:a(()=>[r("div",Go,[Wo,o(U,{modelValue:s(e).setHorizontalLayout,"onUpdate:modelValue":m[0]||(m[0]=c=>s(e).setHorizontalLayout=c),color:"primary",class:"my-2 btn-group-custom gap-3",rounded:"0",group:""},{default:a(()=>[o(v,{value:!1,variant:"text",elevation:"9",class:"rounded-md"},{default:a(()=>[o(s(je),{"stroke-width":"1.5",size:"21",class:"mr-2"}),jo]),_:1}),o(v,{value:!0,variant:"text",elevation:"9",class:"rounded-md"},{default:a(()=>[o(s(qe),{"stroke-width":"1.5",size:"21",class:"mr-2"}),qo]),_:1})]),_:1},8,["modelValue"]),Qo,o(U,{modelValue:s(e).setRTLLayout,"onUpdate:modelValue":m[1]||(m[1]=c=>s(e).setRTLLayout=c),color:"primary",class:"my-2 btn-group-custom gap-3",rounded:"0",group:""},{default:a(()=>[o(v,{value:!1,variant:"text",elevation:"9",class:"rounded-md"},{default:a(()=>[o(s(Qe),{"stroke-width":"1.5",size:"21"}),Yo]),_:1}),o(v,{value:!0,variant:"text",elevation:"9",class:"rounded-md"},{default:a(()=>[o(s(Ye),{"stroke-width":"1.5",size:"21"}),Zo]),_:1})]),_:1},8,["modelValue"]),Jo,o(ae,{mandatory:"",modelValue:s(e).actTheme,"onUpdate:modelValue":m[2]||(m[2]=c=>s(e).actTheme=c),class:"ml-n2 v-row"},{default:a(()=>[(n(!0),h(A,null,D(i.value,c=>(n(),u(ne,{cols:"4",key:c.name,class:"pa-2"},{default:a(()=>[o(se,{value:c.name},{default:a(({isSelected:x,toggle:C})=>[o(H,{rounded:"md",class:"border cursor-pointer d-block text-center px-5 py-4 hover-btns",elevation:"9",onClick:C},{default:a(()=>[o(G,{class:$(c.bg),size:"25"},{default:a(()=>[x?(n(),u(s(ue),{key:0,color:"white",size:"18"})):g("",!0)]),_:2},1032,["class"])]),_:2},1032,["onClick"])]),_:2},1032,["value"])]),_:2},1024))),128))]),_:1},8,["modelValue"]),Xo,o(ae,{mandatory:"",modelValue:s(e).actTheme,"onUpdate:modelValue":m[3]||(m[3]=c=>s(e).actTheme=c),class:"ml-n2 v-row"},{default:a(()=>[(n(!0),h(A,null,D(l.value,c=>(n(),u(ne,{cols:"4",key:c.name,class:"pa-2"},{default:a(()=>[o(se,{value:c.name},{default:a(({isSelected:x,toggle:C})=>[o(H,{rounded:"md",class:"border cursor-pointer d-block text-center px-5 py-4 hover-btns",elevation:"9",onClick:C},{default:a(()=>[o(G,{class:$(c.bg),size:"25"},{default:a(()=>[x?(n(),u(s(ue),{key:0,color:"white",size:"18"})):g("",!0)]),_:2},1032,["class"])]),_:2},1032,["onClick"])]),_:2},1032,["value"])]),_:2},1024))),128))]),_:1},8,["modelValue"]),ea,o(U,{modelValue:s(e).boxed,"onUpdate:modelValue":m[4]||(m[4]=c=>s(e).boxed=c),color:"primary",class:"my-2 btn-group-custom gap-3",rounded:"0",group:""},{default:a(()=>[o(v,{value:!0,variant:"text",elevation:"9",class:"rounded-md"},{default:a(()=>[o(s(Ze),{"stroke-width":"1.5",size:"21",class:"mr-2"}),ta]),_:1}),o(v,{value:!1,variant:"text",elevation:"9",class:"rounded-md"},{default:a(()=>[o(s(Je),{"stroke-width":"1.5",size:"21",class:"mr-2"}),oa]),_:1})]),_:1},8,["modelValue"]),s(e).setHorizontalLayout!=!0?(n(),u(H,{key:0},{default:a(()=>[aa,o(U,{modelValue:s(e).mini_sidebar,"onUpdate:modelValue":m[5]||(m[5]=c=>s(e).mini_sidebar=c),color:"primary",class:"my-2 btn-group-custom gap-3",rounded:"0",group:""},{default:a(()=>[o(v,{value:!1,variant:"text",elevation:"9",class:"rounded-md"},{default:a(()=>[o(k,{"stroke-width":"1.5",size:"21",class:"mr-2"}),sa]),_:1}),o(v,{value:!0,variant:"text",elevation:"9",class:"rounded-md"},{default:a(()=>[o(s(ce),{"stroke-width":"1.5",size:"21",class:"mr-2"}),na]),_:1})]),_:1},8,["modelValue"])]),_:1})):g("",!0),la,o(U,{modelValue:s(e).setBorderCard,"onUpdate:modelValue":m[6]||(m[6]=c=>s(e).setBorderCard=c),color:"primary",class:"my-2 btn-group-custom gap-3",rounded:"0",group:""},{default:a(()=>[o(v,{value:!1,variant:"text",elevation:"9",class:"rounded-md"},{default:a(()=>[o(s(ce),{"stroke-width":"1.5",size:"21",class:"mr-2"}),ia]),_:1}),o(v,{value:!0,variant:"text",elevation:"9",class:"rounded-md"},{default:a(()=>[o(k,{"stroke-width":"1.5",size:"21",class:"mr-2"}),ra]),_:1})]),_:1},8,["modelValue"])])]),_:1}),o(st),o(nt),o(zo),o(Mo),o(Oo)],64)}}}),Oa=L({setup(t){const e=E();return(i,l)=>s(e).setRTLLayout?(n(),u(B,{key:0,rtl:""},{default:a(()=>[o(re,{theme:s(e).actTheme,class:$([s(e).actTheme,s(e).mini_sidebar?"mini-sidebar":"",s(e).setHorizontalLayout?"horizontalLayout":"verticalLayout",s(e).setBorderCard?"cardBordered":""])},{default:a(()=>[o(q,{app:"",temporary:"",elevation:"10",location:"left",modelValue:s(e).Customizer_drawer,"onUpdate:modelValue":l[0]||(l[0]=d=>s(e).Customizer_drawer=d),width:"320",class:"left-customizer"},{default:a(()=>[o(he)]),_:1},8,["modelValue"]),s(e).setHorizontalLayout?g("",!0):(n(),u(Q,{key:0})),s(e).setHorizontalLayout?g("",!0):(n(),u(me,{key:1})),s(e).setHorizontalLayout?(n(),u(_e,{key:2})):g("",!0),s(e).setHorizontalLayout?(n(),u(pe,{key:3})):g("",!0),o(le,null,{default:a(()=>[o(ie,{fluid:"",class:"page-wrapper pb-sm-15 pb-10"},{default:a(()=>[r("div",{class:$(s(e).boxed?"maxWidth":"")},[o(s(oe)),o(v,{class:"customizer-btn",size:"large",icon:"",variant:"flat",color:"primary",onClick:l[1]||(l[1]=O(d=>s(e).SET_CUSTOMIZER_DRAWER(!s(e).Customizer_drawer),["stop"]))},{default:a(()=>[o(s(de))]),_:1})],2)]),_:1})]),_:1})]),_:1},8,["theme","class"])]),_:1})):(n(),u(B,{key:1},{default:a(()=>[o(re,{theme:s(e).actTheme,class:$([s(e).actTheme,s(e).mini_sidebar?"mini-sidebar":"",s(e).setHorizontalLayout?"horizontalLayout":"verticalLayout",s(e).setBorderCard?"cardBordered":""])},{default:a(()=>[o(q,{app:"",temporary:"",elevation:"10",location:"right",modelValue:s(e).Customizer_drawer,"onUpdate:modelValue":l[2]||(l[2]=d=>s(e).Customizer_drawer=d),width:"320"},{default:a(()=>[o(he)]),_:1},8,["modelValue"]),s(e).setHorizontalLayout?g("",!0):(n(),u(Q,{key:0})),s(e).setHorizontalLayout?g("",!0):(n(),u(me,{key:1})),s(e).setHorizontalLayout?(n(),u(_e,{key:2})):g("",!0),s(e).setHorizontalLayout?(n(),u(pe,{key:3})):g("",!0),o(le,null,{default:a(()=>[o(ie,{fluid:"",class:"page-wrapper pb-sm-15 pb-10"},{default:a(()=>[r("div",{class:$(s(e).boxed?"maxWidth":"")},[o(s(oe)),o(v,{class:"customizer-btn",size:"large",icon:"",variant:"flat",color:"primary",onClick:l[3]||(l[3]=O(d=>s(e).SET_CUSTOMIZER_DRAWER(!s(e).Customizer_drawer),["stop"]))},{default:a(()=>[o(s(de))]),_:1})],2)]),_:1})]),_:1})]),_:1},8,["theme","class"])]),_:1}))}});export{Oa as default};
