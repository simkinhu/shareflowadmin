import{a as I}from"./axios-6f43ddff.js";import"./usershare-8bcf8ad9.js";import{_ as A}from"./BaseBreadcrumb.vue_vue_type_style_index_0_lang-598769be.js";import{d as w,r as l,aS as M,aJ as r,a8 as v,a9 as o,u as d,aR as h,a7 as x,c as a,bl as e,a6 as y,F as b,G as $,j as C,o as H,aQ as S,b2 as m}from"./@vue-7e44e6dd.js";import{v as E,k as U,r as z,H as j,o as F,l as R,z as G,i as J,E as P,D as g}from"./vuetify-574a8d14.js";import{b as Q}from"./@multiavatar-7283d2b3.js";import{f as k}from"./date-fns-8e15a9c0.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";import"./pinia-98ec2995.js";import"./vue-demi-71ba0ef2.js";import"./crypto-js-3b32aad8.js";import"./ant-design-vue-0eeed0f5.js";import"./@ant-design-05eaf6fc.js";import"./@ctrl-044b369f.js";import"./@babel-692ca2d6.js";import"./resize-observer-polyfill-3d106987.js";import"./@emotion-f7664732.js";import"./stylis-5efc5547.js";import"./scroll-into-view-if-needed-6b992d05.js";import"./compute-scroll-into-view-183f845a.js";import"./vue-types-ef06c517.js";import"./dom-align-529d0cdc.js";import"./lodash-es-5af3e9d7.js";import"./dayjs-8a436f85.js";import"./async-validator-dee29e8b.js";import"./throttle-debounce-87e7e444.js";import"./ChatBc-abd90dc1.js";const K={class:"d-flex mainbox"},O={key:0,class:"left-part"},W={class:"right-part"},X=$(" Menu "),Y=w({setup(L){const{xs:V,lgAndUp:_}=E(),i=l(!1);return(s,n)=>{const t=M("Menu2Icon");return r(),v(b,null,[o("div",K,[d(_)?(r(),v("div",O,[h(s.$slots,"leftpart")])):x("",!0),o("div",W,[a(U,{block:"",onClick:n[0]||(n[0]=u=>i.value=!i.value),variant:"text",class:"d-lg-none d-md-flex d-sm-flex"},{default:e(()=>[a(t,{size:"20",class:"mr-2"}),X]),_:1}),a(z,{class:"d-lg-none d-block"}),h(s.$slots,"rightpart")])]),d(_)?x("",!0):(r(),y(F,{key:0,temporary:"",modelValue:i.value,"onUpdate:modelValue":n[1]||(n[1]=u=>i.value=u),width:"320",top:""},{default:e(()=>[a(j,{class:"pa-0"},{default:e(()=>[h(s.$slots,"mobileLeftContent")]),_:3})]),_:3},8,["modelValue"]))],64)}}});const Z={class:"pa-6"},tt={class:"text-h6 text-truncate"},et={class:"d-flex mt-3 align-center"},at={class:"text-subtitle-2 opacity-25"},ot=["innerHTML"],st={class:"text-h4 text-13"},nt={class:"pa-6"},lt=["innerHTML"],rt=w({setup(L){const V=l({title:"系统公告"}),_=l([{text:"系统主页",disabled:!1,href:"/"},{text:"系统公告",disabled:!0,href:"/user/notice"}]),i=Q("root"),s=l([]),n=l(0),t=l(null),u=l(""),N=async()=>{const c=window.VITE_API_BASE_URL;try{const p=await I.post(c+"/app/share/notification");s.value=p.data.data,n.value=s.value.length,n.value>0&&(t.value=s.value[0])}catch(p){console.error("请求错误:",p)}},B=c=>{t.value=c};C(()=>t.value?t.value.notice_content:"");const D=C(()=>u.value?s.value.filter(c=>c.notice_title.toLowerCase().includes(u.value.toLowerCase())):s.value);return H(()=>{N()}),(c,p)=>{const T=M("a-divider");return r(),v(b,null,[a(A,{title:V.value.title,breadcrumbs:_.value},null,8,["title","breadcrumbs"]),a(g,{elevation:"10"},{default:e(()=>[a(Y,null,{leftpart:e(()=>[o("div",Z,[(r(!0),v(b,null,S(d(D),f=>(r(),y(R,{class:"note-sheet pa-5 pb-4 rounded-md cursor-pointer mb-4",key:f.notice_id,onClick:it=>B(f)},{default:e(()=>[o("h6",tt,m(f.notice_title),1),o("div",et,[o("small",at,m(t.value?d(k)(new Date(t.value.update_time),"yyyy-MM-dd"):""),1)])]),_:2},1032,["onClick"]))),128))])]),rightpart:e(()=>[a(G,{cols:"12"},{default:e(()=>[t.value?(r(),y(g,{key:0,elevation:"10",class:"mt-5",rounded:"md"},{default:e(()=>[a(J,{size:"40",class:"mt-n7 mx-6"},{default:e(()=>[o("div",{innerHTML:d(i),style:{width:"50px"}},null,8,ot)]),_:1}),a(P,{class:"pb-0"},{default:e(()=>[o("h1",st,m(t.value.notice_title),1)]),_:1}),a(T,{orientation:"right"},{default:e(()=>[$(m(t.value?d(k)(new Date(t.value.update_time),"yyyy-MM-dd"):""),1)]),_:1}),o("div",nt,[o("div",{class:"notice-content",innerHTML:t.value.notice_content},null,8,lt)])]),_:1})):x("",!0)]),_:1})]),_:1})]),_:1})],64)}}});const St=q(rt,[["__scopeId","data-v-5b30d345"]]);export{St as default};
