import{a as X}from"./axios-fa38e072.js";import{u as Y}from"./usershare-2e0a7c3f.js";import{u as K}from"./index-b341bade.js";import{s as Q}from"./pinia-2f8cef2e.js";import{_ as Z,a as tt}from"./welcome-bg-377087fa.js";import{l as et}from"./loginChat-36a2a8e4.js";import{m as y,M as st}from"./ant-design-vue-a7ef973d.js";import{d as ot,r as c,o as at,h as H,W as i,_ as n,c as e,Y as s,X as d,$ as o,G as u,a3 as r,a2 as h,F as M,a5 as I,a1 as W,a0 as R,a4 as p}from"./@vue-c9a03ce3.js";import{h as lt}from"./@ant-design-32a4e489.js";import{_ as it}from"./ChatBc-abd90dc1.js";import{_ as nt}from"./_plugin-vue_export-helper-c27b6911.js";import{D as O,E as q,s as U,z as g,b as C,q as ut,i as rt,k as f,F as dt,G,l as J,H as ct,I as pt,J as j}from"./vuetify-3df09d96.js";import"./@multiavatar-b28f2a65.js";import"./crypto-js-74ece96e.js";import"./vue-router-fcb76a2b.js";import"./dayjs-c0c7802c.js";/* empty css             */import"./vue3-perfect-scrollbar-5de46532.js";import"./perfect-scrollbar-c9c56521.js";import"./vue3-apexcharts-a5217f6c.js";import"./vue-d2c16750.js";import"./apexcharts-a35677a7.js";import"./vue-tabler-icons-cf6f1e0c.js";/* empty css                      */import"./v-calendar-ef2113f4.js";import"./@popperjs-e3d1f27d.js";import"./maska-ce45910f.js";import"./vue3-easy-data-table-7f7218d8.js";import"./core-js-147366a5.js";import"./vue-i18n-d9e40cc6.js";import"./@intlify-8623a1ec.js";import"./vue-scrollto-aaefc7e1.js";import"./vue-easy-lightbox-eec5a43b.js";import"./vue-demi-71ba0ef2.js";import"./@babel-86619d60.js";import"./@ctrl-044b369f.js";import"./resize-observer-polyfill-0f9f8adb.js";import"./@emotion-f7664732.js";import"./stylis-5efc5547.js";import"./scroll-into-view-if-needed-6b992d05.js";import"./compute-scroll-into-view-183f845a.js";import"./vue-types-ef06c517.js";import"./dom-align-529d0cdc.js";import"./lodash-es-5af3e9d7.js";import"./async-validator-dee29e8b.js";import"./throttle-debounce-87e7e444.js";import"./customizer-8f870a7e.js";const _t=ot({components:{Usercout:Z,loginChat:et},setup(){const t=Y(),a=K(),{userToken:v,userAvatar:w,expireTime:_,isPlus:V,isLogin:m,expired:k,daysBetween:$}=Q(t),F=c(""),L=c(""),T=c(!0),D=c(!1),A=c(""),B=c(!1),b=c(!1),E=c(""),x=c(""),P=c(!1),S=c(""),z=c(""),l=c([]);return at(async()=>{await a.fetchData(),await a.fetchData(),F.value=String(a.getSetting("siteTitle")||""),L.value=String(a.getSetting("siteDescription")||""),T.value=a.getSetting("isbanner")!==void 0?a.getSetting("isbanner")===!0:!1,D.value=a.getSetting("isannoun")!==void 0?a.getSetting("isannoun")===!0:!1,B.value=a.getSetting("teamopen")!==void 0?a.getSetting("teamopen")===!0:!1,A.value=String(a.getSetting("isannoun_content")||""),b.value=a.getSetting("car_name_enable")===!0,E.value=String(a.getSetting("car_plus_name_content")||""),x.value=String(a.getSetting("car_gpt_name_content")||""),P.value=a.getSetting("tab_url_enable")===!0,S.value=String(a.getSetting("tab_url_name")||""),z.value=String(a.getSetting("tab_url_content")||""),l.value=a.bannerList,document.title=F.value}),{siteTitle:F,isbanner:T,isannoun:D,isannoun_content:A,teamopen:B,car_name_enable:b,car_plus_name_content:E,car_gpt_name_content:x,tab_url_enable:P,tab_url_name:S,tab_url_content:z,userStore:t,outlogin:()=>{st.confirm({zIndex:99999,centered:!0,title:"提示？",icon:H(lt),content:H("div",{style:"color:red;"},"你确定退出登录吗？"),onOk(){t.logout(),y.success("已退出登录，如需再次使用请重新登录")},onCancel(){y.warning("您取消了退出！")}})},userToken:v,userAvatar:w,expireTime:_,isPlus:V,isLogin:m,expired:k,daysBetween:$,bannerList:l}},data(){return{activeTab:c("isplus"),userToken:c(null),segmented:{content:"soft",footer:"soft"},currentDate:new Date().toISOString().split("T")[0],pluslist:[],islist:[],notice:"",plustotal:0,istotal:0,ispage:1,pluspage:1,plushasMoreData:!0,ishasMoreData:!0,plusTotalPages:1,isTotalPages:1,pageSize:36,showgpt:"isplus",noticeisenable:!1,showOverlay:!0,loadingplus:!0,loadinggpt:!0}},created(){const t=this.userToken||null;this.userStore.fetchUserData(t),this.fetchAllData()},methods:{shouldShowTeam(t){return this.teamopen&&/t/i.test(t)},hideOverlay(){this.showOverlay=!1},goToSite(){let t=this.tab_url_content;window.open(t,"_blank")},clicktab(t){t==="isgpt"?this.showgpt="isgpt":t==="isplus"?this.showgpt="isplus":this.showgpt=""},toggleModal(){this.userStore.loginModal=!0},plusredirectTo(t){const a=this.userToken;if(a===null){y.error("您还没有登录，请先登录"),this.userStore.loginModal=!0;return}else if(this.isPlus)window.open(`/auth/logintoken?usertoken=${a}&carid=${t}`,"_blank");else{y.error("您还不是Plus会员，请在线开通Plus会员专属频道权限");return}},isredirectTo(t){const a=this.userToken;if(a===null){y.warning("您还没有登录，请先登录"),this.userStore.loginModal=!0;return}else window.open(`/auth/logintoken?usertoken=${a}&carid=${t}`,"_blank")},getlistpages(t){this.loadinggpt=!0;const a=this.showgpt,{pluspage:v,ispage:w,plusTotalPages:_,isTotalPages:V}=this;let m,k;if(a==="isplus"?(m=v+t,k=_):a==="isgpt"&&(m=w+t,k=V),m<1){y.info("已经是第一页了"),this.loadinggpt=!1;return}if(m>k){y.info("没有更多的频道了"),this.loadinggpt=!1;return}a==="isplus"?(this.pluspage=m,this.fetchOtherData(m,"pluspage")):a==="isgpt"&&(this.ispage=m,this.fetchOtherData(m,"ispage"))},fetchAllData(){this.fetchOtherData()},fetchOtherData(t=1,a="pluspage"){const v=this.pageSize,w=window.VITE_API_BASE_URL;X.post(w+"/app/share/list",{[a]:t,size:v}).then(_=>{this.notice=_.data.data.notice,a==="pluspage"&&(this.pluslist=_.data.data.pluslist||[],this.plustotal=_.data.data.plustotal||0,this.plusTotalPages=Math.ceil(this.plustotal/v),this.plushasMoreData=t<this.plusTotalPages,this.islist=_.data.data.islist||[],this.istotal=_.data.data.istotal||0,this.isTotalPages=Math.ceil(this.istotal/v),this.ishasMoreData=t<this.isTotalPages,this.loadingplus=!1,this.loadinggpt=!1),a==="ispage"&&(this.islist=_.data.data.islist||[],this.istotal=_.data.data.istotal||0,this.isTotalPages=Math.ceil(this.istotal/v),this.ishasMoreData=t<this.isTotalPages,this.loadinggpt=!1),this.loadingplus=!1,this.loadinggpt=!1}).catch(_=>{this.loadingplus=!1,this.loadinggpt=!1,console.error("请求错误:",_)})}}});const ht={class:"d-flex align-center"},mt={key:0,class:"text-h5"},gt=u(" Plus会员 "),ft=u("普通会员"),vt=u("注销"),kt={key:1,class:"text-h5"},bt=u(" 欢迎回来， "),yt=u("登录 / 注册"),Ct={class:"text-subtitle-1 textSecondary mt-2"},wt={class:"mt-8"},St={class:"d-flex"},Ft={key:0,class:"text-subtitle-1 textPrimary mt-1"},Tt={key:1,class:"d-flex"},Dt={class:"text-h4 textPrimary"},At={key:0},Bt={key:1},Et={key:2,class:"d-flex"},xt=o("h2",{class:"text-h5 textPrimary"},[o("div",null,"开通Plus会员可畅享4.0对话")],-1),Pt=[xt],Vt={key:0},zt=o("div",{class:"text-subtitle-1 textPrimary mt-1"},"到期时间",-1),Mt={class:"d-flex"},$t={class:"text-h4 textPrimary"},Lt=o("div",{class:"mb-n2"},[o("img",{src:tt,alt:"image",width:"340"})],-1),It=["href"],Ot=["src","alt"],Ut=o("h5",{class:"text-h5"},"欢迎回来，",-1),Gt=o("div",{class:"text-subtitle-1 text-medium-emphasis mt-0"},"在此登录或注销您的Usertoken账户",-1),jt={class:"text-center mt-2 mb-3"},Nt=["innerHTML"],Ht={key:0},Wt={class:"text-h5 text-medium-emphasis text-center mt-3"},Rt={class:"text-h6 text-medium-emphasis text-center mb-5"},qt={class:"d-flex justify-center"},Jt=u("安全注销"),Xt={key:1},Yt=o("div",{class:"text-h5 text-medium-emphasis text-center mt-3"},"Token：ChatGPT",-1),Kt=o("div",{class:"text-h6 text-medium-emphasis text-center mb-5"},"开通Plus会员可畅享4.0对话",-1),Qt={class:"d-flex justify-center"},Zt=u("立即登录"),te=u("免费注册"),ee=u(" ChatGPT 4.0 Plus频道 "),se=u(" ChatGPT 3.5 免费频道 "),oe=u("丝滑顺畅体验AIGC"),ae={class:"ml-auto d-flex justify-end"},le={class:"ml-auto d-flex justify-end"},ie={key:0,class:"loadingbox"},ne={key:1,class:"loadingbox"},ue=o("div",{class:"d-sm-flex align-center mb-5"},null,-1),re={key:0,class:"type",style:{background:"#3dd9eb"}},de={class:"cartitle"},ce={class:"message-with-dot"},pe={class:"progress-wrapper"},_e={key:0,class:"loadingbox"},he={key:1,class:"loadingbox"},me=o("div",{class:"d-sm-flex align-center mb-5"},null,-1),ge={class:"cartitle"},fe={class:"message-with-dot"},ve={class:"progress-wrapper"},ke=o("div",{class:"d-sm-flex align-center mb-5"},null,-1),be={class:"embed-container"},ye=["data"],Ce={key:0,class:"overlay"},we=u("立即前往该站点"),Se=u("关闭遮罩"),Fe={class:"px-8 py-8 py-lg-0"},Te={class:"d-flex justify-space-between"},De={class:"d-flex py-5 align-center notice"},Ae=["innerHTML"],Be=o("div",{class:"d-none py-0 d-lg-block overflow-hidden"},[o("div",{class:"mb-n16 mt-3"},[o("img",{src:it,alt:"breadcrumb"})])],-1);function Ee(t,a,v,w,_,V){const m=p("a-carousel"),k=p("Usercout"),$=p("trophy-icon"),F=p("GhostIcon"),L=p("WorldIcon"),T=p("arrow-left-icon"),D=p("arrow-right-icon"),A=p("a-spin"),B=p("a-empty"),b=p("n-text"),E=p("a-progress"),x=p("a-card"),P=p("a-col"),S=p("a-row"),z=p("loginChat");return i(),n(M,null,[e(U,null,{default:s(()=>[t.isbanner?(i(),d(g,{key:1,cols:"12",lg:"9",sm:"12"},{default:s(()=>[e(m,{autoplay:"",effect:"fade"},{default:s(()=>[(i(!0),n(M,null,I(t.bannerList,l=>(i(),n("div",{class:"homebanner",key:l.id},[l.is_enabled?(i(),n("a",{key:0,href:l.link_url,target:"_blank"},[o("img",{src:l.image_url,alt:l.title},null,8,Ot)],8,It)):h("",!0)]))),128))]),_:1})]),_:1})):(i(),d(g,{key:0,cols:"12",lg:"8",sm:"6"},{default:s(()=>[e(O,{elevation:"0",rounded:"md",class:"bg-lightprimary border-0"},{default:s(()=>[e(q,{class:"pt-3 pb-0"},{default:s(()=>[e(U,null,{default:s(()=>[e(g,{cols:"12",sm:"6",class:"pt-sm-10 pt-5"},{default:s(()=>[o("div",ht,[o("div",null,[t.userStore.isLogin?(i(),n("h5",mt,[u(r(t.userStore.userToken)+" ",1),t.isPlus?(i(),d(C,{key:0,size:"small",class:"ml-2 elevation-0",variant:"elevated",color:"red"},{default:s(()=>[gt]),_:1})):(i(),d(C,{key:1,size:"small",class:"ml-2 elevation-0",variant:"elevated",color:""},{default:s(()=>[ft]),_:1})),e(C,{size:"small",class:"ml-2 elevation-0",variant:"elevated",onClick:t.outlogin},{default:s(()=>[vt]),_:1},8,["onClick"])])):(i(),n("h5",kt,[bt,e(C,{class:"ml-2 elevation-0",size:"small",variant:"elevated",onClick:t.toggleModal},{default:s(()=>[yt]),_:1},8,["onClick"])])),o("h6",Ct,"注意，今天已经是 "+r(t.currentDate)+"了",1)])]),o("div",wt,[o("div",St,[o("div",null,[t.userStore.isLogin?(i(),n("div",Ft,"剩余天数")):h("",!0),t.userStore.isLogin?(i(),n("div",Tt,[o("h2",Dt,[t.userStore.expired?(i(),n("div",At,"已过期")):(i(),n("div",Bt,r(t.userStore.daysBetween),1))])])):(i(),n("div",Et,Pt))]),e(ut,{vertical:"",class:"mx-5"}),t.userStore.isLogin?(i(),n("div",Vt,[zt,o("div",Mt,[o("h2",$t,r(t.userStore.expireTime),1)])])):h("",!0)])])]),_:1}),e(g,{cols:"12",sm:"6",class:"text-sm-right"},{default:s(()=>[Lt]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})),t.isbanner?(i(),d(g,{key:3,cols:"12",lg:"3",sm:"12"},{default:s(()=>[e(O,{elevation:"10"},{default:s(()=>[e(q,null,{default:s(()=>[Ut,Gt,o("div",jt,[e(rt,{size:"120"},{default:s(()=>[o("div",{innerHTML:t.userStore.userAvatar,style:{width:"90px"}},null,8,Nt)]),_:1})]),t.isLogin?(i(),n("div",Ht,[o("div",Wt,"Token："+r(t.userToken),1),o("div",Rt,"距离"+r(t.isPlus?"Plus":"普通")+"会员到期还剩"+r(t.daysBetween)+"天",1),o("div",qt,[e(f,{color:"primary",class:"mx-2",flat:"",to:"/user/plus"},{default:s(()=>[u(r(t.isPlus?"续费":"开通")+"会员",1)]),_:1}),e(f,{color:"error",class:"mx-2",variant:"outlined",flat:"",onClick:t.outlogin},{default:s(()=>[Jt]),_:1},8,["onClick"])])])):(i(),n("div",Xt,[Yt,Kt,o("div",Qt,[e(f,{color:"primary",class:"mx-2",flat:"",onClick:t.toggleModal},{default:s(()=>[Zt]),_:1},8,["onClick"]),e(f,{color:"error",class:"mx-2",variant:"outlined",flat:"",onClick:t.toggleModal},{default:s(()=>[te]),_:1},8,["onClick"])])]))]),_:1})]),_:1})]),_:1})):(i(),d(g,{key:2,cols:"12",lg:"4",sm:"6"},{default:s(()=>[e(k)]),_:1})),e(g,{cols:"12"},{default:s(()=>[e(U,{class:"align-center"},{default:s(()=>[e(g,{cols:"12",md:"10"},{default:s(()=>[e(dt,{modelValue:t.activeTab,"onUpdate:modelValue":[a[0]||(a[0]=l=>t.activeTab=l),t.clicktab]},{default:s(()=>[e(G,{value:"isplus",color:"#a07be6"},{default:s(()=>[e($,{"stroke-width":"2",width:"20",class:"v-icon--start"}),ee,e(C,{size:"small",class:"ml-2 elevation-0",variant:"elevated",color:"#a07be6"},{default:s(()=>[u("共计 "+r(t.plustotal)+" 个频道 ",1)]),_:1})]),_:1}),e(G,{value:"isgpt",color:"#24d4ae"},{default:s(()=>[e(F,{"stroke-width":"2",width:"20",class:"v-icon--start"}),se,e(C,{size:"small",class:"ml-2 elevation-0",variant:"elevated",color:"#24d4ae"},{default:s(()=>[u("共计 "+r(t.istotal)+" 个频道 ",1)]),_:1})]),_:1}),t.tab_url_enable?(i(),d(G,{key:0,value:"isurl",color:"#3dd5e7"},{default:s(()=>[e(L,{"stroke-width":"2",width:"20",class:"v-icon--start"}),u(" "+r(t.tab_url_name)+" ",1),e(C,{size:"small",class:"ml-2 elevation-0",variant:"elevated",color:"#3dd5e7"},{default:s(()=>[oe]),_:1})]),_:1})):h("",!0)]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:1}),t.showgpt=="isplus"&&t.plustotal>t.pageSize?(i(),d(g,{key:0,cols:"12",md:"2"},{default:s(()=>[e(J,{width:"100",class:"ml-0 ml-md-auto mt-3 mt-md-0"},{default:s(()=>[o("div",ae,[e(f,{icon:"",variant:"text",class:"text-medium-emphasis",onClick:a[1]||(a[1]=l=>t.getlistpages(-1))},{default:s(()=>[e(T,{size:"24"})]),_:1}),e(f,{icon:"",variant:"text",class:"text-medium-emphasis",onClick:a[2]||(a[2]=l=>t.getlistpages(1))},{default:s(()=>[e(D,{size:"24"})]),_:1})])]),_:1})]),_:1})):h("",!0),t.showgpt=="isgpt"?(i(),d(g,{key:1,cols:"12",md:"2"},{default:s(()=>[e(J,{width:"100",class:"ml-0 ml-md-auto mt-3 mt-md-0"},{default:s(()=>[o("div",le,[e(f,{icon:"",variant:"text",class:"text-medium-emphasis",onClick:a[3]||(a[3]=l=>t.getlistpages(-1))},{default:s(()=>[e(T,{size:"24"})]),_:1}),e(f,{icon:"",variant:"text",class:"text-medium-emphasis",onClick:a[4]||(a[4]=l=>t.getlistpages(1))},{default:s(()=>[e(D,{size:"24"})]),_:1})])]),_:1})]),_:1})):h("",!0)]),_:1}),e(ct,{class:"rounded-md"},{default:s(()=>[e(pt,{modelValue:t.activeTab,"onUpdate:modelValue":a[5]||(a[5]=l=>t.activeTab=l)},{default:s(()=>[e(j,{value:"isplus"},{default:s(()=>[t.loadingplus?(i(),n("div",ie,[e(A)])):h("",!0),t.pluslist.length===0?(i(),n("div",ne,[e(B)])):h("",!0),ue,e(S,{gutter:[10,10]},{default:s(()=>[(i(!0),n(M,null,I(t.pluslist,l=>(i(),d(P,{class:"cardclss",xs:24,sm:12,md:8,lg:8,xl:4,key:l.carid},{default:s(()=>[e(x,{bodyStyle:{padding:"12px 16px"},class:W("boxclass "+(l.isplus?"pluscolor":"nopluscolor")),onClick:N=>t.plusredirectTo(l.carid)},{default:s(()=>[t.shouldShowTeam(l.remark)?(i(),n("div",re,"Team")):h("",!0),o("div",{class:"type",style:R({background:l.endpoint.labelColor})},r(l.endpoint.label!=""?l.endpoint.label:"NO"),5),o("div",de,[t.car_name_enable?(i(),d(b,{key:0,class:"title"},{default:s(()=>[u(r(t.car_plus_name_content)+r(l.id),1)]),_:2},1024)):(i(),d(b,{key:1,class:"title"},{default:s(()=>[u(r(l.carid),1)]),_:2},1024))]),o("div",ce,"实时状态："+r(l.endpoint.message),1),o("div",pe,[e(E,{class:"progress-bar",size:[0,6],percent:l.statusinfo.percent,steps:4,"stroke-color":l.endpoint.color,"show-info":!1,trailColor:l.endpoint.labelColor},null,8,["percent","stroke-color","trailColor"])])]),_:2},1032,["class","onClick"])]),_:2},1024))),128))]),_:1})]),_:1}),e(j,{value:"isgpt"},{default:s(()=>[t.loadinggpt?(i(),n("div",_e,[e(A)])):h("",!0),t.islist.length===0?(i(),n("div",he,[e(B)])):h("",!0),me,e(S,{gutter:[10,10]},{default:s(()=>[(i(!0),n(M,null,I(t.islist,l=>(i(),d(P,{class:"cardclss",xs:24,sm:12,md:8,lg:8,xl:4,key:l.carid},{default:s(()=>[e(x,{bodyStyle:{padding:"12px 16px"},class:W("boxclass "+(l.isplus?"pluscolor":"nopluscolor")),onClick:N=>t.isredirectTo(l.carid)},{default:s(()=>[o("div",{class:"type",style:R({background:l.endpoint.labelColor})},r(l.endpoint.label!=""?l.endpoint.label:"NO"),5),o("div",ge,[t.car_name_enable?(i(),d(b,{key:0,class:"title"},{default:s(()=>[u(r(t.car_gpt_name_content)+r(l.id),1)]),_:2},1024)):(i(),d(b,{key:1,class:"title"},{default:s(()=>[u(r(l.carid),1)]),_:2},1024))]),o("div",fe,"实时状态："+r(l.endpoint.message),1),o("div",ve,[e(E,{class:"progress-bar",size:[0,6],percent:l.statusinfo.percent,steps:4,"stroke-color":l.endpoint.color,"show-info":!1,trailColor:l.endpoint.labelColor},null,8,["percent","stroke-color","trailColor"])])]),_:2},1032,["class","onClick"])]),_:2},1024))),128))]),_:1})]),_:1}),e(j,{value:"isurl"},{default:s(()=>[ke,e(S,{gutter:[10,10]},{default:s(()=>[o("div",be,[o("object",{data:t.tab_url_content,class:"styled-object",type:"text/html",width:"100%",height:"720px"},null,8,ye),t.showOverlay?(i(),n("div",Ce,[e(f,{color:"info",rounded:"",onClick:t.goToSite},{default:s(()=>[we]),_:1},8,["onClick"]),e(f,{class:"ml-3",rounded:"",onClick:t.hideOverlay},{default:s(()=>[Se]),_:1},8,["onClick"])])):h("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),t.isannoun?(i(),d(g,{key:4,cols:"12",lg:"12",sm:"12"},{default:s(()=>[e(O,{class:"bg-lightprimary elevation-0 rounded-md"},{default:s(()=>[o("div",Fe,[o("div",Te,[o("div",De,[o("div",{innerHTML:t.isannoun_content},null,8,Ae)]),Be])])]),_:1})]),_:1})):h("",!0)]),_:1}),e(z)],64)}const Ss=nt(_t,[["render",Ee]]);export{Ss as default};
