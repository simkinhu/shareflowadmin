import{P as a}from"./perfect-scrollbar-c9c56521.js";import{h as o}from"./@vue-c9a03ce3.js";const r=["scroll","ps-scroll-y","ps-scroll-x","ps-scroll-up","ps-scroll-down","ps-scroll-left","ps-scroll-right","ps-y-reach-start","ps-y-reach-end","ps-x-reach-start","ps-x-reach-end"];var s={name:"PerfectScrollbar",props:{options:{type:Object,required:!1,default:()=>{}},tag:{type:String,required:!1,default:"div"},watchOptions:{type:Boolean,required:!1,default:!1}},emits:r,data(){return{ps:null}},watch:{watchOptions(e){!e&&this.watcher?this.watcher():this.createWatcher()}},mounted(){this.create(),this.watchOptions&&this.createWatcher()},updated(){this.$nextTick(()=>{this.update()})},beforeUnmount(){this.destroy()},methods:{create(){this.ps&&this.$isServer||(this.ps=new a(this.$el,this.options),r.forEach(e=>{this.ps.element.addEventListener(e,t=>this.$emit(e,t))}))},createWatcher(){this.watcher=this.$watch("options",()=>{this.destroy(),this.create()},{deep:!0})},update(){this.ps&&this.ps.update()},destroy(){this.ps&&(this.ps.destroy(),this.ps=null)}},render(){return o(this.tag,{class:"ps"},this.$slots.default&&this.$slots.default())}},h={install:(e,t)=>{t&&(t.name&&typeof t.name=="string"&&(s.name=t.name),t.options&&typeof t.options=="object"&&(s.props.options.default=()=>t.options),t.tag&&typeof t.tag=="string"&&(s.props.tag.default=t.tag),t.watchOptions&&typeof t.watchOptions=="boolean"&&(s.props.watchOptions=t.watchOptions)),e.component(s.name,s)}};export{h as i};
